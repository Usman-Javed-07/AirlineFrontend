<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Online Check-In</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header>
    <img src="assets/images/logo.png" alt="Airline Logo" class="logo">
    <h1>Check-In for Your Flight</h1>
  </header>

  <section class="check-in">
    <form id="checkInForm">
      <label for="bookingId">Booking ID:</label>
      <input type="text" id="bookingId" required>

      <button type="submit">Check-In</button>
    </form>
  </section>

  <footer>
    <p>&copy; 2025 Airline Portal</p>
  </footer>

  <!-- <script src="assets/js/main.js"></script> -->
<script>
document.getElementById("checkInForm").addEventListener("submit", async function(e) {
  e.preventDefault();

  const bookingId = document.getElementById("bookingId").value.trim();

  if (!bookingId) {
    alert("Please enter a Booking ID.");
    return;
  }

  try {
    const response = await fetch("http://localhost:5000/api/bookings/check-in", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ bookingId })
    });

    const result = await response.json();

    if (response.ok) {
      alert(result.message);
    } else {
      alert("Check-in failed: " + result.error);
    }
  } catch (error) {
    console.error("Error during check-in:", error);
    alert("Something went wrong. Please try again later.");
  }
});
</script>


</body>
</html>
